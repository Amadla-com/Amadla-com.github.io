<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Setup &mdash; Amadla 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CI/CD" href="ci-cd.html" />
    <link rel="prev" title="How It Works" href="how-it-works.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Amadla
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="how-it-works.html">How It Works</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#instructions-for-local-setup">Instructions for local setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system-packages">System Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-packages">Python Packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#instructions-for-container-setup">Instructions for container setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">System Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configurations">Configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#with-the-container">With The Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="#start-vault">Start Vault</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic">Basic</a></li>
<li class="toctree-l2"><a class="reference internal" href="#make-server-image">Make Server Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generate-the-infrastructure">Generate The Infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ci-cd.html">CI/CD</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding-secrets-to-vault.html">Adding Secrets To Vault</a></li>
<li class="toctree-l1"><a class="reference internal" href="application-compatibility.html">Application Compatibility</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Amadla</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Setup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Permalink to this heading"></a></h1>
<section id="instructions-for-local-setup">
<h2>Instructions for local setup<a class="headerlink" href="#instructions-for-local-setup" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using a container you can skip this section.</p>
</div>
<section id="system-packages">
<h3>System Packages<a class="headerlink" href="#system-packages" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>python (11 or higher)</p></li>
<li><p>pip (you might need to upgrade it after it is installed with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--upgrade</span> <span class="pre">pip</span></code> or <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">--upgrade</span> <span class="pre">pip</span></code>)</p></li>
<li><p>make - optional (needed for the Makefile for generating documentations that is in the <code class="docutils literal notranslate"><span class="pre">docs/</span></code> directory)</p></li>
<li><p><a href="#id2"><span class="problematic" id="id3">`Terraform&lt;https://www.terraform.io/downloads.html&gt;`__</span></a></p></li>
<li><p><a href="#id2"><span class="problematic" id="id4">`Vault&lt;https://www.vaultproject.io/downloads.html&gt;`__</span></a></p></li>
<li><p><a href="#id2"><span class="problematic" id="id5">`Packer&lt;https://www.packer.io/downloads.html&gt;`__</span></a></p></li>
<li><p><a href="#id2"><span class="problematic" id="id6">`Ansible&lt;https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html&gt;`__</span></a></p></li>
</ul>
</section>
<section id="python-packages">
<h3>Python Packages<a class="headerlink" href="#python-packages" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>poetry (<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">poetry</span></code> or <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">poetry</span></code>)</p></li>
</ul>
</section>
</section>
<section id="instructions-for-container-setup">
<h2>Instructions for container setup<a class="headerlink" href="#instructions-for-container-setup" title="Permalink to this heading"></a></h2>
<p>The container comes with the same packages as the local system setup except Vault you will need to use the Vault container or point via the configuration to wherever your Vault setup is.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you already have a container engine then you skip the System Packages setup.</p>
</div>
<section id="id1">
<h3>System Packages<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a href="#id2"><span class="problematic" id="id7">`Podman&lt;https://podman.io/getting-started/installation&gt;`__</span></a> (<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">podman</span></code> or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">podman</span></code>)</p></li>
<li><p>Or <a href="#id2"><span class="problematic" id="id8">`Docker&lt;https://docs.docker.com/get-docker/&gt;`__</span></a> (<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">docker-ce</span></code> or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">docker-ce</span></code>)</p></li>
<li><p>Or <a href="#id2"><span class="problematic" id="id9">`Kubernetes&lt;https://kubernetes.io/docs/tasks/tools/install-kubectl/&gt;`__</span></a> (<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">kubectl</span></code> or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">kubectl</span></code>)</p></li>
</ul>
</section>
<section id="configurations">
<h3>Configurations<a class="headerlink" href="#configurations" title="Permalink to this heading"></a></h3>
<p>For Amadla you can use environment variables or a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file. The
<code class="docutils literal notranslate"><span class="pre">.env</span></code> file is loaded automatically if it exists in the root of the project.
… code:: bash</p>
<blockquote>
<div><p>touch .env</p>
</div></blockquote>
</section>
</section>
<section id="with-the-container">
<h2>With The Container<a class="headerlink" href="#with-the-container" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>You need to have a Vault instance running.</p></li>
<li><p>Add your secrets to your Vault instance (or configure your Vault to
load the secrets from a <a class="reference external" href="https://www.vaultproject.io/docs/configuration/storage">storage
backend</a>).</p>
<ul class="simple">
<li><p><a class="reference external" href="./adding-secrets-to-vault.md">Adding secrets to Vault</a></p></li>
</ul>
</li>
</ol>
</section>
<section id="start-vault">
<h2>Start Vault<a class="headerlink" href="#start-vault" title="Permalink to this heading"></a></h2>
<p>If you don’t have a Vault instance already running you can run this
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>start-vault
</pre></div>
</div>
<p>For more details about Vault with Amadla you can read
<a class="reference external" href="./secrets.md">secrets</a> document.</p>
</section>
<section id="basic">
<h2>Basic<a class="headerlink" href="#basic" title="Permalink to this heading"></a></h2>
<p>Generates the basic image and sets up the infrastructure with Terraform:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>basic
</pre></div>
</div>
</section>
<section id="make-server-image">
<h2>Make Server Image<a class="headerlink" href="#make-server-image" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>image
</pre></div>
</div>
</section>
<section id="generate-the-infrastructure">
<h2>Generate The Infrastructure<a class="headerlink" href="#generate-the-infrastructure" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>infrastructure
</pre></div>
</div>
<p>The other commands: - <code class="docutils literal notranslate"><span class="pre">clean</span></code> - Remove <code class="docutils literal notranslate"><span class="pre">.terraform</span></code> folder, state
and plan files - <code class="docutils literal notranslate"><span class="pre">down</span></code> - Plan and apply a tf destroy</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="how-it-works.html" class="btn btn-neutral float-left" title="How It Works" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ci-cd.html" class="btn btn-neutral float-right" title="CI/CD" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, JN.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>